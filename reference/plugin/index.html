
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Automatic documentation from sources, for MkDocs." name="description"/>
<link href="https://pawamoy.github.io/mkdocstrings/reference/plugin/" rel="canonical"/>
<link href="../../assets/images/favicon.png" rel="shortcut icon"/>
<meta content="mkdocs-1.1, mkdocs-material-5.1.6" name="generator"/>
<title>plugin.py - mkdocstrings</title>
<link href="../../assets/stylesheets/main.4b9ffd7b.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
<link href="../../css/mkdocstrings.css" rel="stylesheet"/>
</head>
<body dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#mkdocstrings.plugin">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header-nav md-grid">
<a aria-label="mkdocstrings" class="md-header-nav__button md-logo" href="https://pawamoy.github.io/mkdocstrings" title="mkdocstrings">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
<label class="md-header-nav__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header-nav__title" data-md-component="header-title">
<div class="md-header-nav__ellipsis">
<span class="md-header-nav__topic md-ellipsis">
            mkdocstrings
          </span>
<span class="md-header-nav__topic md-ellipsis">
            
              plugin.py
            
          </span>
</div>
</div>
<label class="md-header-nav__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<button aria-label="Clear" class="md-search__icon md-icon" data-md-component="search-reset" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header-nav__source">
<a class="md-source" href="https://github.com/pawamoy/mkdocstrings/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    pawamoy/mkdocstrings
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="mkdocstrings" class="md-nav__button md-logo" href="https://pawamoy.github.io/mkdocstrings" title="mkdocstrings">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
    mkdocstrings
  </label>
<div class="md-nav__source">
<a class="md-source" href="https://github.com/pawamoy/mkdocstrings/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    pawamoy/mkdocstrings
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../.." title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" id="nav-2" type="checkbox"/>
<label class="md-nav__link" for="nav-2">
      Handlers
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Handlers" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-2">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Handlers
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../handlers/overview/" title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../handlers/python/" title="Python">
      Python
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="nav-3" id="nav-3" type="checkbox"/>
<label class="md-nav__link" for="nav-3">
      Reference
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Reference" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-3">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Reference
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-1" id="nav-3-1" type="checkbox"/>
<label class="md-nav__link" for="nav-3-1">
      handlers
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="handlers" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-3-1">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        handlers
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../handlers/__init__/" title="__init__.py">
      __init__.py
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../handlers/python/" title="python.py">
      python.py
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../extension/" title="extension.py">
      extension.py
    </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        plugin.py
        <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"></path></svg>
</span>
</label>
<a class="md-nav__link md-nav__link--active" href="./" title="plugin.py">
      plugin.py
    </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin">
    mkdocstrings.plugin
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.AUTO_REF">
    AUTO_REF
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.RENDERING_OPTS_KEY">
    RENDERING_OPTS_KEY
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.SELECTION_OPTS_KEY">
    SELECTION_OPTS_KEY
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.MkdocstringsPlugin">
    MkdocstringsPlugin
  </a>
<nav aria-label="MkdocstringsPlugin" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.MkdocstringsPlugin.config_scheme">
    config_scheme
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.MkdocstringsPlugin.__init__">
    __init__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.MkdocstringsPlugin.fix_ref">
    fix_ref()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.MkdocstringsPlugin.map_urls">
    map_urls()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.MkdocstringsPlugin.on_config">
    on_config()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.MkdocstringsPlugin.on_page_content">
    on_page_content()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.MkdocstringsPlugin.on_post_build">
    on_post_build()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.MkdocstringsPlugin.on_post_page">
    on_post_page()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.MkdocstringsPlugin.on_serve">
    on_serve()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.Placeholder">
    Placeholder
  </a>
<nav aria-label="Placeholder" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.Placeholder.__init__">
    __init__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.Placeholder.get_id">
    get_id()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.Placeholder.replace_code_tags">
    replace_code_tags()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.Placeholder.restore_code_tags">
    restore_code_tags()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.Placeholder.set_seed">
    set_seed()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.Placeholder.store">
    store()
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../troubleshooting/" title="Troubleshooting">
      Troubleshooting
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../contributing/" title="Contributing">
      Contributing
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../code_of_conduct/" title="Code of Conduct">
      Code of Conduct
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../changelog/" title="Changelog">
      Changelog
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../credits/" title="Credits">
      Credits
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../license/" title="License">
      License
    </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin">
    mkdocstrings.plugin
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.AUTO_REF">
    AUTO_REF
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.RENDERING_OPTS_KEY">
    RENDERING_OPTS_KEY
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.SELECTION_OPTS_KEY">
    SELECTION_OPTS_KEY
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.MkdocstringsPlugin">
    MkdocstringsPlugin
  </a>
<nav aria-label="MkdocstringsPlugin" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.MkdocstringsPlugin.config_scheme">
    config_scheme
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.MkdocstringsPlugin.__init__">
    __init__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.MkdocstringsPlugin.fix_ref">
    fix_ref()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.MkdocstringsPlugin.map_urls">
    map_urls()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.MkdocstringsPlugin.on_config">
    on_config()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.MkdocstringsPlugin.on_page_content">
    on_page_content()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.MkdocstringsPlugin.on_post_build">
    on_post_build()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.MkdocstringsPlugin.on_post_page">
    on_post_page()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.MkdocstringsPlugin.on_serve">
    on_serve()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.Placeholder">
    Placeholder
  </a>
<nav aria-label="Placeholder" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.Placeholder.__init__">
    __init__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.Placeholder.get_id">
    get_id()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.Placeholder.replace_code_tags">
    replace_code_tags()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.Placeholder.restore_code_tags">
    restore_code_tags()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.Placeholder.set_seed">
    set_seed()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mkdocstrings.plugin.Placeholder.store">
    store()
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/pawamoy/mkdocstrings/edit/master/docs/reference/plugin.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<h1>plugin.py</h1>
<div class="doc doc-object doc-module">
<h2 class="hidden-toc" href="#mkdocstrings.plugin" id="mkdocstrings.plugin" style="visibility: hidden; width: 0; height: 0;">
<a class="headerlink" href="#mkdocstrings.plugin" title="Permanent link">¤</a></h2>
<div class="doc doc-contents first">
<p>This module contains the <code>mkdocs</code> plugin.</p>
<p>The plugin instantiates a Markdown extension (<a href="https://pawamoy.github.io/mkdocstrings/reference/extension/#mkdocstrings.extension.MkdocstringsExtension"><code>MkdocstringsExtension</code></a>),
and adds it to the list of Markdown extensions used by <code>mkdocs</code>
during the <a href="https://www.mkdocs.org/user-guide/plugins/#on_config"><code>on_config</code> event hook</a>.</p>
<p>After each page is processed by the Markdown converter, this plugin stores absolute URLs of every HTML anchors
it finds to later be able to fix unresolved references.
It stores them during the <a href="https://www.mkdocs.org/user-guide/plugins/#on_page_contents"><code>on_page_contents</code> event hook</a>.</p>
<p>Just before writing the final HTML to the disc, during the
<a href="https://www.mkdocs.org/user-guide/plugins/#on_post_page"><code>on_post_page</code> event hook</a>,
this plugin searches for references of the form <code>[identifier][]</code> or <code>[title][identifier]</code> that were not resolved,
and fixes them using the previously stored identifier-URL mapping.</p>
<p>Once the documentation is built, the <a href="https://www.mkdocs.org/user-guide/plugins/#on_post_build"><code>on_post_build</code> event hook</a>
is triggered and calls the <a href="https://pawamoy.github.io/mkdocstrings/reference/handlers/__init__/#mkdocstrings.handlers.teardown"><code>handlers.teardown()</code> method</a>. This method is used
to teardown the <a href="https://pawamoy.github.io/mkdocstrings/reference/handlers/__init__/#mkdocstrings.handlers">handlers</a> that were instantiated during documentation buildup.</p>
<p>Finally, when serving the documentation, it can add directories to watch
during the <a href="https://www.mkdocs.org/user-guide/plugins/#on_serve"><code>on_serve</code> event hook</a>.</p>
<div class="doc doc-children">
<div class="doc doc-object doc-attribute">
<h2 class="doc doc-heading" id="mkdocstrings.plugin.AUTO_REF">
<code class="highlight">
AUTO_REF: <span class="n">Pattern</span> </code>
<a class="headerlink" href="#mkdocstrings.plugin.AUTO_REF" title="Permanent link">¤</a></h2>
<div class="doc doc-contents">
<p>A regular expression to match unresolved Markdown references
in the <a href="https://pawamoy.github.io/mkdocstrings/reference/plugin/#mkdocstrings.plugin.MkdocstringsPlugin.on_post_page"><code>on_post_page</code> hook</a>.</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h2 class="doc doc-heading" id="mkdocstrings.plugin.RENDERING_OPTS_KEY">
<code class="highlight">
RENDERING_OPTS_KEY: <span class="nb">str</span> </code>
<a class="headerlink" href="#mkdocstrings.plugin.RENDERING_OPTS_KEY" title="Permanent link">¤</a></h2>
<div class="doc doc-contents">
<p>The name of the rendering parameter in YAML configuration blocks.</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h2 class="doc doc-heading" id="mkdocstrings.plugin.SELECTION_OPTS_KEY">
<code class="highlight">
SELECTION_OPTS_KEY: <span class="nb">str</span> </code>
<a class="headerlink" href="#mkdocstrings.plugin.SELECTION_OPTS_KEY" title="Permanent link">¤</a></h2>
<div class="doc doc-contents">
<p>The name of the selection parameter in YAML configuration blocks.</p>
</div>
</div>
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="mkdocstrings.plugin.MkdocstringsPlugin">
<code>MkdocstringsPlugin</code>
<a class="headerlink" href="#mkdocstrings.plugin.MkdocstringsPlugin" title="Permanent link">¤</a></h2>
<div class="doc doc-contents">
<p>An <code>mkdocs</code> plugin.</p>
<p>This plugin defines the following event hooks:</p>
<ul>
<li><code>on_config</code></li>
<li><code>on_page_contents</code></li>
<li><code>on_post_page</code></li>
<li><code>on_post_build</code></li>
<li><code>on_serve</code></li>
</ul>
<p>Check the <a href="https://www.mkdocs.org/user-guide/plugins/#developing-plugins">Developing Plugins</a> page of <code>mkdocs</code>
for more information about its plugin system..</p>
<div class="doc doc-children">
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="mkdocstrings.plugin.MkdocstringsPlugin.config_scheme">
<code class="highlight">
config_scheme: <span class="n">Tuple</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MkType</span><span class="p">]]</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-class-attribute"><code>class-attribute</code></small>
</span>
<a class="headerlink" href="#mkdocstrings.plugin.MkdocstringsPlugin.config_scheme" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>The configuration options of <code>mkdocstrings</code>, written in <code>mkdocs.yml</code>.</p>
<p>Available options are:</p>
<ul>
<li><strong><code>watch</code></strong>: A list of directories to watch. Only used when serving the documentation with mkdocs.
   Whenever a file changes in one of directories, the whole documentation is built again, and the browser refreshed.</li>
<li><strong><code>default_handler</code></strong>: The default handler to use. The value is the name of the handler module. Default is "python".</li>
<li><strong><code>handlers</code></strong>: Global configuration of handlers. You can set global configuration per handler, applied everywhere,
  but overridable in each "autodoc" instruction. Example:</li>
</ul>
<div class="highlight">
<pre><span></span><code><span class="nt">plugins</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">mkdocstrings</span><span class="p">:</span>
      <span class="nt">handlers</span><span class="p">:</span>
        <span class="nt">python</span><span class="p">:</span>
          <span class="nt">selection</span><span class="p">:</span>
            <span class="nt">selection_opt</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
          <span class="nt">rendering</span><span class="p">:</span>
            <span class="nt">rendering_opt</span><span class="p">:</span> <span class="s">"value"</span>
          <span class="nt">setup_commands</span><span class="p">:</span>
            <span class="p p-Indicator">-</span> <span class="s">"import</span><span class="nv"> </span><span class="s">os"</span>
            <span class="p p-Indicator">-</span> <span class="s">"import</span><span class="nv"> </span><span class="s">django"</span>
            <span class="p p-Indicator">-</span> <span class="s">"os.environ.setdefault('DJANGO_SETTINGS_MODULE',</span><span class="nv"> </span><span class="s">'my_djang_app.settings')"</span>
            <span class="p p-Indicator">-</span> <span class="s">"django.setup()"</span>
        <span class="nt">rust</span><span class="p">:</span>
          <span class="nt">selection</span><span class="p">:</span>
            <span class="nt">selection_opt</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
</code></pre>
</div>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="mkdocstrings.plugin.MkdocstringsPlugin.__init__">
<code class="highlight language-python">
__init__<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
<a class="headerlink" href="#mkdocstrings.plugin.MkdocstringsPlugin.__init__" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Initialization method.</p>
<details class="quote">
<summary>Source code in <code>mkdocstrings/plugin.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>114
115
116
117
118</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">"""Initialization method."""</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">MkdocstringsPlugin</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">mkdocstrings_extension</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">MkdocstringsExtension</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">url_map</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="mkdocstrings.plugin.MkdocstringsPlugin.fix_ref">
<code class="highlight language-python">
fix_ref<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unmapped</span><span class="p">,</span> <span class="n">unintended</span><span class="p">)</span> </code>
<a class="headerlink" href="#mkdocstrings.plugin.MkdocstringsPlugin.fix_ref" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Return a <code>repl</code> function for <a href="https://docs.python.org/3/library/re.html#re.sub"><code>re.sub</code></a>.</p>
<p>In our context, we match Markdown references and replace them with HTML links.</p>
<p>When the matched reference's identifier contains a space or slash, we append the identifier to the outer
<code>unintended</code> list to tell the caller that this unresolved reference should be ignored as it's probably
not intended as a reference.</p>
<p>When the matched reference's identifier was not mapped to an URL, we append the identifier to the outer
<code>unmapped</code> list. It generally means the user is trying to cross-reference an object that was not collected
and rendered, making it impossible to link to it. We catch this exception in the caller to issue a warning.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>unmapped</code></td>
<td><code>List[str]</code></td>
<td>
<p>A list to store unmapped identifiers.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>unintended</code></td>
<td><code>List[str]</code></td>
<td>
<p>A list to store identifiers of unintended references.</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Callable</code></td>
<td>
<p>The actual function accepting a <a href="https://docs.python.org/3/library/re.html#match-objects"><code>Match</code> object</a>
and returning the replacement strings.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>mkdocstrings/plugin.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">fix_ref</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unmapped</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">unintended</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Return a `repl` function for [`re.sub`](https://docs.python.org/3/library/re.html#re.sub).</span>

<span class="sd">    In our context, we match Markdown references and replace them with HTML links.</span>

<span class="sd">    When the matched reference's identifier contains a space or slash, we append the identifier to the outer</span>
<span class="sd">    `unintended` list to tell the caller that this unresolved reference should be ignored as it's probably</span>
<span class="sd">    not intended as a reference.</span>

<span class="sd">    When the matched reference's identifier was not mapped to an URL, we append the identifier to the outer</span>
<span class="sd">    `unmapped` list. It generally means the user is trying to cross-reference an object that was not collected</span>
<span class="sd">    and rendered, making it impossible to link to it. We catch this exception in the caller to issue a warning.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        unmapped: A list to store unmapped identifiers.</span>
<span class="sd">        unintended: A list to store identifiers of unintended references.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The actual function accepting a [`Match` object](https://docs.python.org/3/library/re.html#match-objects)</span>
<span class="sd">        and returning the replacement strings.</span>
<span class="sd">    """</span>

    <span class="k">def</span> <span class="nf">inner</span><span class="p">(</span><span class="n">match</span><span class="p">:</span> <span class="n">Match</span><span class="p">):</span>
        <span class="n">groups</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">groupdict</span><span class="p">()</span>
        <span class="n">identifier</span> <span class="o">=</span> <span class="n">groups</span><span class="p">[</span><span class="s2">"identifier"</span><span class="p">]</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">groups</span><span class="p">[</span><span class="s2">"title"</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">title</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">identifier</span><span class="p">:</span>
            <span class="n">identifier</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="n">title</span><span class="p">,</span> <span class="n">identifier</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">url_map</span><span class="p">[</span><span class="n">identifier</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">" "</span> <span class="ow">in</span> <span class="n">identifier</span> <span class="ow">or</span> <span class="s2">"/"</span> <span class="ow">in</span> <span class="n">identifier</span><span class="p">:</span>
                <span class="c1"># invalid identifier, must not be a intended reference</span>
                <span class="n">unintended</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">identifier</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">unmapped</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">identifier</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">title</span><span class="p">:</span>
                <span class="k">return</span> <span class="sa">f</span><span class="s2">"[</span><span class="si">{</span><span class="n">identifier</span><span class="si">}</span><span class="s2">][]"</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">"[</span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s2">][</span><span class="si">{</span><span class="n">identifier</span><span class="si">}</span><span class="s2">]"</span>

        <span class="c1"># TODO: we could also use a config option to ignore some identifiers</span>
        <span class="c1"># and to map others to URLs, something like:</span>
        <span class="c1"># references:</span>
        <span class="c1">#   ignore:</span>
        <span class="c1">#     - "USERNAME:PASSWORD@"</span>
        <span class="c1">#   map:</span>
        <span class="c1">#     some-id: https://example.com</span>

        <span class="k">return</span> <span class="sa">f</span><span class="s1">'&lt;a href="</span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s1">"&gt;</span><span class="si">{</span><span class="n">title</span> <span class="ow">or</span> <span class="n">identifier</span><span class="si">}</span><span class="s1">&lt;/a&gt;'</span>

    <span class="k">return</span> <span class="n">inner</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="mkdocstrings.plugin.MkdocstringsPlugin.map_urls">
<code class="highlight language-python">
map_urls<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_url</span><span class="p">,</span> <span class="n">anchor</span><span class="p">)</span> </code>
<a class="headerlink" href="#mkdocstrings.plugin.MkdocstringsPlugin.map_urls" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Recurse on every anchor to map its ID to its absolute URL.</p>
<p>This method populates <code>self.url_map</code> by side-effect.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>base_url</code></td>
<td><code>str</code></td>
<td>
<p>The base URL to use as a prefix for each anchor's relative URL.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>anchor</code></td>
<td><code>AnchorLink</code></td>
<td>
<p>The anchor to process and to recurse on.</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>mkdocstrings/plugin.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>178
179
180
181
182
183
184
185
186
187
188
189
190</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">map_urls</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">anchor</span><span class="p">:</span> <span class="n">AnchorLink</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Recurse on every anchor to map its ID to its absolute URL.</span>

<span class="sd">    This method populates `self.url_map` by side-effect.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        base_url: The base URL to use as a prefix for each anchor's relative URL.</span>
<span class="sd">        anchor: The anchor to process and to recurse on.</span>
<span class="sd">    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">url_map</span><span class="p">[</span><span class="n">anchor</span><span class="o">.</span><span class="n">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">base_url</span> <span class="o">+</span> <span class="n">anchor</span><span class="o">.</span><span class="n">url</span>
    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">anchor</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">map_urls</span><span class="p">(</span><span class="n">base_url</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="mkdocstrings.plugin.MkdocstringsPlugin.on_config">
<code class="highlight language-python">
on_config<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> </code>
<a class="headerlink" href="#mkdocstrings.plugin.MkdocstringsPlugin.on_config" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Hook for the <a href="https://www.mkdocs.org/user-guide/plugins/#on_config"><code>on_config</code> event</a>.</p>
<p>In this hook, we instantiate our <a href="https://pawamoy.github.io/mkdocstrings/reference/extension/#mkdocstrings.extension.MkdocstringsExtension"><code>MkdocstringsExtension</code></a>
and add it to the list of Markdown extensions used by <code>mkdocs</code>.</p>
<p>We pass this plugin's configuration dictionary to the extension when instantiating it (it will need it
later when processing markdown to get handlers and their global configurations).</p>
<details class="quote">
<summary>Source code in <code>mkdocstrings/plugin.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">on_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Config</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Hook for the [`on_config` event](https://www.mkdocs.org/user-guide/plugins/#on_config).</span>

<span class="sd">    In this hook, we instantiate our [`MkdocstringsExtension`][mkdocstrings.extension.MkdocstringsExtension]</span>
<span class="sd">    and add it to the list of Markdown extensions used by `mkdocs`.</span>

<span class="sd">    We pass this plugin's configuration dictionary to the extension when instantiating it (it will need it</span>
<span class="sd">    later when processing markdown to get handlers and their global configurations).</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">config</span><span class="p">[</span><span class="s2">"site_url"</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">ConfigurationError</span><span class="p">(</span>
            <span class="s2">"mkdocstrings.plugin: configuration item 'site_url' is required for cross-references"</span>
        <span class="p">)</span>

    <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">"mkdocstrings.plugin: Adding extension to the list"</span><span class="p">)</span>

    <span class="n">extension_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">"theme_name"</span><span class="p">:</span> <span class="n">config</span><span class="p">[</span><span class="s2">"theme"</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="s2">"mdx"</span><span class="p">:</span> <span class="n">config</span><span class="p">[</span><span class="s2">"markdown_extensions"</span><span class="p">],</span>
        <span class="s2">"mdx_configs"</span><span class="p">:</span> <span class="n">config</span><span class="p">[</span><span class="s2">"mdx_configs"</span><span class="p">],</span>
        <span class="s2">"mkdocstrings"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">mkdocstrings_extension</span> <span class="o">=</span> <span class="n">MkdocstringsExtension</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">extension_config</span><span class="p">)</span>
    <span class="n">config</span><span class="p">[</span><span class="s2">"markdown_extensions"</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mkdocstrings_extension</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">config</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="mkdocstrings.plugin.MkdocstringsPlugin.on_page_content">
<code class="highlight language-python">
on_page_content<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">page</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">files</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> </code>
<a class="headerlink" href="#mkdocstrings.plugin.MkdocstringsPlugin.on_page_content" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Hook for the <a href="https://www.mkdocs.org/user-guide/plugins/#on_page_contents"><code>on_page_contents</code> event</a>.</p>
<p>In this hook, we map the IDs of every anchor found in the table of contents to the anchors absolute URLs.
This mapping will be used later to fix unresolved reference of the form <code>[title][identifier]</code> or
<code>[identifier][]</code>.</p>
<details class="quote">
<summary>Source code in <code>mkdocstrings/plugin.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>165
166
167
168
169
170
171
172
173
174
175
176</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">on_page_content</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">html</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">page</span><span class="p">:</span> <span class="n">Page</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Config</span><span class="p">,</span> <span class="n">files</span><span class="p">:</span> <span class="n">Files</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Hook for the [`on_page_contents` event](https://www.mkdocs.org/user-guide/plugins/#on_page_contents).</span>

<span class="sd">    In this hook, we map the IDs of every anchor found in the table of contents to the anchors absolute URLs.</span>
<span class="sd">    This mapping will be used later to fix unresolved reference of the form `[title][identifier]` or</span>
<span class="sd">    `[identifier][]`.</span>
<span class="sd">    """</span>
    <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">"mkdocstrings.plugin: Mapping identifiers to URLs for page </span><span class="si">{</span><span class="n">page</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">src_path</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">page</span><span class="o">.</span><span class="n">toc</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">map_urls</span><span class="p">(</span><span class="n">page</span><span class="o">.</span><span class="n">canonical_url</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">html</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="mkdocstrings.plugin.MkdocstringsPlugin.on_post_build">
<code class="highlight language-python">
on_post_build<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> </code>
<a class="headerlink" href="#mkdocstrings.plugin.MkdocstringsPlugin.on_post_build" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Hook for the <a href="https://www.mkdocs.org/user-guide/plugins/#on_post_build"><code>on_post_build</code> event</a>.</p>
<p>This hook is used to teardown all the handlers that were instantiated and cached during documentation buildup.</p>
<p>For example, the <a href="https://pawamoy.github.io/mkdocstrings/reference/handlers/python/#mkdocstrings.handlers.python.PythonCollector">Python handler's collector</a> opens a subprocess
in the background and keeps it open to feed it the "autodoc" instructions and get back JSON data. Therefore,
it must close it at some point, and it does it in its
<a href="https://pawamoy.github.io/mkdocstrings/reference/handlers/python/#mkdocstrings.handlers.python.PythonCollector.teardown"><code>teardown()</code> method</a> which is indirectly called by
this hook.</p>
<details class="quote">
<summary>Source code in <code>mkdocstrings/plugin.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>282
283
284
285
286
287
288
289
290
291
292
293
294
295</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">on_post_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Hook for the [`on_post_build` event](https://www.mkdocs.org/user-guide/plugins/#on_post_build).</span>

<span class="sd">    This hook is used to teardown all the handlers that were instantiated and cached during documentation buildup.</span>

<span class="sd">    For example, the [Python handler's collector][mkdocstrings.handlers.python.PythonCollector] opens a subprocess</span>
<span class="sd">    in the background and keeps it open to feed it the "autodoc" instructions and get back JSON data. Therefore,</span>
<span class="sd">    it must close it at some point, and it does it in its</span>
<span class="sd">    [`teardown()` method][mkdocstrings.handlers.python.PythonCollector.teardown] which is indirectly called by</span>
<span class="sd">    this hook.</span>
<span class="sd">    """</span>
    <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">"mkdocstrings.plugin: Tearing handlers down"</span><span class="p">)</span>
    <span class="n">teardown</span><span class="p">()</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="mkdocstrings.plugin.MkdocstringsPlugin.on_post_page">
<code class="highlight language-python">
on_post_page<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">page</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> </code>
<a class="headerlink" href="#mkdocstrings.plugin.MkdocstringsPlugin.on_post_page" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Hook for the <a href="https://www.mkdocs.org/user-guide/plugins/#on_post_page"><code>on_post_page</code> event</a>.</p>
<p>In this hook, we try to fix unresolved references of the form <code>[title][identifier]</code> or <code>[identifier][]</code>.
Doing that allows the user of <code>mkdocstrings</code> to cross-reference objects in their documentation strings.
It uses the native Markdown syntax so it's easy to remember and use.</p>
<p>We log a warning for each reference that we couldn't map to an URL, but try to be smart and ignore identifiers
that do not look legitimate (sometimes documentation can contain strings matching
our <a href="https://pawamoy.github.io/mkdocstrings/reference/plugin/#mkdocstrings.plugin.AUTO_REF"><code>AUTO_REF</code></a> regular expression that did not intend to reference anything).
We currently ignore references when their identifier contains a space or a slash.</p>
<details class="quote">
<summary>Source code in <code>mkdocstrings/plugin.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">on_post_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">page</span><span class="p">:</span> <span class="n">Page</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Hook for the [`on_post_page` event](https://www.mkdocs.org/user-guide/plugins/#on_post_page).</span>

<span class="sd">    In this hook, we try to fix unresolved references of the form `[title][identifier]` or `[identifier][]`.</span>
<span class="sd">    Doing that allows the user of `mkdocstrings` to cross-reference objects in their documentation strings.</span>
<span class="sd">    It uses the native Markdown syntax so it's easy to remember and use.</span>

<span class="sd">    We log a warning for each reference that we couldn't map to an URL, but try to be smart and ignore identifiers</span>
<span class="sd">    that do not look legitimate (sometimes documentation can contain strings matching</span>
<span class="sd">    our [`AUTO_REF`][mkdocstrings.plugin.AUTO_REF] regular expression that did not intend to reference anything).</span>
<span class="sd">    We currently ignore references when their identifier contains a space or a slash.</span>
<span class="sd">    """</span>
    <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">"mkdocstrings.plugin: Fixing references in page </span><span class="si">{</span><span class="n">page</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">src_path</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

    <span class="n">placeholder</span> <span class="o">=</span> <span class="n">Placeholder</span><span class="p">()</span>
    <span class="k">while</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">placeholder</span><span class="o">.</span><span class="n">seed</span><span class="p">,</span> <span class="n">output</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">any</span><span class="p">(</span><span class="n">placeholder</span><span class="o">.</span><span class="n">seed</span> <span class="ow">in</span> <span class="n">url</span> <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">url_map</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
        <span class="n">placeholder</span><span class="o">.</span><span class="n">set_seed</span><span class="p">()</span>

    <span class="n">unmapped</span><span class="p">,</span> <span class="n">unintended</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>  <span class="c1"># type: ignore</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="s2">"html.parser"</span><span class="p">)</span>
    <span class="n">placeholder</span><span class="o">.</span><span class="n">replace_code_tags</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
    <span class="n">fixed_soup</span> <span class="o">=</span> <span class="n">AUTO_REF</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fix_ref</span><span class="p">(</span><span class="n">unmapped</span><span class="p">,</span> <span class="n">unintended</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">soup</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">unmapped</span> <span class="ow">or</span> <span class="n">unintended</span><span class="p">:</span>
        <span class="c1"># We do nothing with unintended refs</span>
        <span class="k">if</span> <span class="n">unmapped</span> <span class="ow">and</span> <span class="n">log</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">ref</span> <span class="ow">in</span> <span class="n">unmapped</span><span class="p">:</span>
                <span class="n">log</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">"mkdocstrings.plugin: </span><span class="si">{</span><span class="n">page</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">src_path</span><span class="si">}</span><span class="s2">: Could not find cross-reference target '[</span><span class="si">{</span><span class="n">ref</span><span class="si">}</span><span class="s2">]'"</span>
                <span class="p">)</span>

    <span class="k">return</span> <span class="n">placeholder</span><span class="o">.</span><span class="n">restore_code_tags</span><span class="p">(</span><span class="n">fixed_soup</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="mkdocstrings.plugin.MkdocstringsPlugin.on_serve">
<code class="highlight language-python">
on_serve<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">builder</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> </code>
<a class="headerlink" href="#mkdocstrings.plugin.MkdocstringsPlugin.on_serve" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Hook for the <a href="https://www.mkdocs.org/user-guide/plugins/#on_serve"><code>on_serve</code> event</a>.</p>
<p>In this hook, we add the directories specified in the plugin's configuration to the list of directories
watched by <code>mkdocs</code>. Whenever a change occurs in one of these directories, the documentation is built again
and the site reloaded.</p>
<details class="quote">
<summary>Source code in <code>mkdocstrings/plugin.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">on_serve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server</span><span class="p">:</span> <span class="n">Server</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Config</span><span class="p">,</span> <span class="n">builder</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Server</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Hook for the [`on_serve` event](https://www.mkdocs.org/user-guide/plugins/#on_serve).</span>

<span class="sd">    In this hook, we add the directories specified in the plugin's configuration to the list of directories</span>
<span class="sd">    watched by `mkdocs`. Whenever a change occurs in one of these directories, the documentation is built again</span>
<span class="sd">    and the site reloaded.</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="n">builder</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># The builder parameter was added in mkdocs v1.1.1.</span>
        <span class="c1"># See issue https://github.com/mkdocs/mkdocs/issues/1952.</span>
        <span class="n">builder</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">server</span><span class="o">.</span><span class="n">watcher</span><span class="o">.</span><span class="n">_tasks</span><span class="o">.</span><span class="n">values</span><span class="p">())[</span><span class="mi">0</span><span class="p">][</span><span class="s2">"func"</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">"watch"</span><span class="p">]:</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">"mkdocstrings.plugin: Adding directory '</span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2">' to watcher"</span><span class="p">)</span>
        <span class="n">server</span><span class="o">.</span><span class="n">watch</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">builder</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">server</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
</div>
</div>
</div>
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="mkdocstrings.plugin.Placeholder">
<code>Placeholder</code>
<a class="headerlink" href="#mkdocstrings.plugin.Placeholder" title="Permanent link">¤</a></h2>
<div class="doc doc-contents">
<p>This class is used as a placeholder store.</p>
<p>Placeholders are random, unique strings that temporarily replace <code>&lt;code&gt;</code> nodes in an HTML tree.</p>
<p>Why do we replace these nodes with such strings? Because we want to fix cross-references that were not
resolved during Markdown conversion, and we must never touch to what's inside of a code block.
To ease the process, instead of selecting nodes in the HTML tree with complex filters (I tried, believe me),
we simply "hide" the code nodes, and bulk-replace unresolved cross-references in the whole HTML text at once,
with a regular expression substitution. Once it's done, we bulk-replace code nodes back, with a regular expression
substitution again.</p>
<div class="doc doc-children">
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="mkdocstrings.plugin.Placeholder.__init__">
<code class="highlight language-python">
__init__<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
<a class="headerlink" href="#mkdocstrings.plugin.Placeholder.__init__" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Initialization method.</p>
<details class="quote">
<summary>Source code in <code>mkdocstrings/plugin.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>312
313
314
315
316</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">"""Initialization method."""</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ids</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">seed</span> <span class="o">=</span> <span class="s2">""</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_seed</span><span class="p">()</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="mkdocstrings.plugin.Placeholder.get_id">
<code class="highlight language-python">
get_id<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<a class="headerlink" href="#mkdocstrings.plugin.Placeholder.get_id" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Return a random, unique string.</p>
<details class="quote">
<summary>Source code in <code>mkdocstrings/plugin.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>334
335
336</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">"""Return a random, unique string."""</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">seed</span><span class="si">}{</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span>  <span class="c1"># noqa: S311 (it's not for security/cryptographic purposes)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="mkdocstrings.plugin.Placeholder.replace_code_tags">
<code class="highlight language-python">
replace_code_tags<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">)</span> </code>
<a class="headerlink" href="#mkdocstrings.plugin.Placeholder.replace_code_tags" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Recursively replace code nodes with navigable strings whose values are unique IDs.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>soup</code></td>
<td><code>BeautifulSoup</code></td>
<td>
<p>The root tag of a BeautifulSoup HTML tree.</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>mkdocstrings/plugin.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">replace_code_tags</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">:</span> <span class="n">BeautifulSoup</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Recursively replace code nodes with navigable strings whose values are unique IDs.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        soup: The root tag of a BeautifulSoup HTML tree.</span>
<span class="sd">    """</span>

    <span class="k">def</span> <span class="nf">recursive_replace</span><span class="p">(</span><span class="n">tag</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="s2">"contents"</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">tag</span><span class="o">.</span><span class="n">contents</span><span class="p">)):</span>
                <span class="n">child</span> <span class="o">=</span> <span class="n">tag</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">child</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"code"</span><span class="p">:</span>
                    <span class="n">tag</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">NavigableString</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">child</span><span class="p">)))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">recursive_replace</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>

    <span class="n">recursive_replace</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="mkdocstrings.plugin.Placeholder.restore_code_tags">
<code class="highlight language-python">
restore_code_tags<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup_str</span><span class="p">)</span> </code>
<a class="headerlink" href="#mkdocstrings.plugin.Placeholder.restore_code_tags" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Restore code nodes previously replaced by unique placeholders.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>soup_str</code></td>
<td><code>str</code></td>
<td>
<p>HTML text.</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>str</code></td>
<td>
<p>The same HTML text with placeholders replaced by their respective original code nodes.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>mkdocstrings/plugin.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">restore_code_tags</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Restore code nodes previously replaced by unique placeholders.</span>

<span class="sd">    Args:</span>
<span class="sd">        soup_str: HTML text.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The same HTML text with placeholders replaced by their respective original code nodes.</span>
<span class="sd">    """</span>

    <span class="k">def</span> <span class="nf">replace_placeholder</span><span class="p">(</span><span class="n">match</span><span class="p">):</span>
        <span class="n">placeholder</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">groups</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ids</span><span class="p">[</span><span class="n">placeholder</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">rf</span><span class="s2">"(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">seed</span><span class="si">}</span><span class="s2">\d+)"</span><span class="p">,</span> <span class="n">replace_placeholder</span><span class="p">,</span> <span class="n">soup_str</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="mkdocstrings.plugin.Placeholder.set_seed">
<code class="highlight language-python">
set_seed<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<a class="headerlink" href="#mkdocstrings.plugin.Placeholder.set_seed" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Reset the seed in <code>self.seed</code> with a random string.</p>
<details class="quote">
<summary>Source code in <code>mkdocstrings/plugin.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>338
339
340</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">set_seed</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">"""Reset the seed in `self.seed` with a random string."""</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">seed</span> <span class="o">=</span> <span class="s2">""</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choices</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_letters</span> <span class="o">+</span> <span class="n">string</span><span class="o">.</span><span class="n">digits</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">16</span><span class="p">))</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="mkdocstrings.plugin.Placeholder.store">
<code class="highlight language-python">
store<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> </code>
<a class="headerlink" href="#mkdocstrings.plugin.Placeholder.store" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Store a text under a unique ID, return that ID.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>value</code></td>
<td><code>str</code></td>
<td>
<p>The text to store.</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>str</code></td>
<td>
<p>The ID under which the text is stored.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>mkdocstrings/plugin.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>318
319
320
321
322
323
324
325
326
327
328
329
330
331
332</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Store a text under a unique ID, return that ID.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        value: The text to store.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ID under which the text is stored.</span>
<span class="sd">    """</span>
    <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_id</span><span class="p">()</span>
    <span class="k">while</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ids</span><span class="p">:</span>
        <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_id</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ids</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
    <span class="k">return</span> <span class="n">i</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav aria-label="Footer" class="md-footer-nav__inner md-grid">
<a class="md-footer-nav__link md-footer-nav__link--prev" href="../extension/" rel="prev" title="extension.py">
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                extension.py
              </div>
</div>
</a>
<a class="md-footer-nav__link md-footer-nav__link--next" href="../../troubleshooting/" rel="next" title="Troubleshooting">
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                Troubleshooting
              </div>
</div>
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
</div>
</div>
</footer>
</div>
<script src="../../assets/javascripts/vendor.a0c4167b.min.js"></script>
<script src="../../assets/javascripts/bundle.fb26dd1d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
<script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.37585f48.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
</body>
</html>